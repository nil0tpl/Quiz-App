(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();let a=document.getElementById("quiz-btn"),u=document.getElementById("welcome-cont");a.addEventListener("click",()=>{u.remove(),m()});const m=()=>{let n=document.createElement("div");n.classList.add("mx-14","my-48","flex","justify-center","md:items-center","flex-col","font-Lexend","font-bold","sm:mx-20","md:mx-[6.25rem]","lg:mx-[8.75rem]","xl:mx-[11.25rem]","2xl:mx-[13.75rem]"),n.innerHTML=`
            <h1 class="text-3xl sm:text-4xl lg:text-5xl text-[#7c2d12]">And Your Name Is...?</h1>

            <p class="mt-3 text-sm italic">Just so we know who to laugh at later</p>

            <input required type="text" id="name-inp" placeholder="ex. Jane" class="mt-5 w-full p-2 sm:w-96 rounded-md bg-[#f9dbbd] placeholder-gray-500 text-brown-800 border border-[#441b0e] shadow-sm focus:outline-none focus:ring-2 focus:ring-[#7c2d12] transition">

            <button type="button" id="name-btn" class="my-6 p-2 text-[#7c2d12] rounded-xl bg-[#fca17d] w-1/2 font-semibold shadow-md hover:bg-[#ff8f62] transition duration-200 ease-in-out sm:w-[240px] md:w-[240px] lg:w-[240px] xl:w-[255px] 2xl:w-[270px]">Proceed</button>
      `,document.body.append(n);let o=document.getElementById("name-inp");document.getElementById("name-btn").addEventListener("click",()=>{let r=o.value;const e=document.getElementById("name-error");if(e&&e.remove(),r===""){let t=document.createElement("p");t.id="name-error",t.classList.add("mt-3","text-sm","italic"),t.innerText="Don't you have a name?",o.insertAdjacentElement("afterend",t)}else n.remove(),x(r)})},x=async n=>{const o=await f();let s=[],r=document.createElement("div");r.classList.add("mx-10","my-24","flex","flex-col","text-[#7c2d12]","font-Lexend","font-bold","sm:mx-20","md:mx-[6.25rem]","lg:mx-[8.75rem]","xl:mx-[11.25rem]","2xl:mx-[13.75rem]");for(let t=0;t<o.length;t++){const l=[o[t].correct_answer,...o[t].incorrect_answers],d=await p(l);r.innerHTML=`
                  <h2 class="text-2xl sm:text-3xl lg:text-4xl leading-7 my-5">${t+1}. ${o[t].question}</h2>
                  ${d.map(c=>`
                  <button class="answer-btn mx-8 p-2 w-48 text-center border border-[#7c2d12] rounded-2xl my-1 bg-[#f9dbbd] font-medium shadow-md hover:bg-[#eec8a2] transition duration-200 ease-in-out">${c}</button>`).join("")}
            `,document.body.append(r);const i=await h();s.push(i)}let e=document.createElement("button");e.classList.add("my-10","p-2","text-[#7c2d12]","rounded-xl","bg-[#fca17d]","w-1/2","font-semibold","shadow-md","hover:bg-[#ff8f62]","transition","duration-200","ease-in-out","sm:w-[240px]","md:w-[240px]","lg:w-[240px]","xl:w-[255px]","2xl:w-[270px]"),e.setAttribute("type","button"),e.setAttribute("id","submit-btn"),e.innerText="Submit",r.appendChild(e),e.addEventListener("click",()=>{r.remove(),b(n,s,o)})},f=async()=>{try{const n=await fetch("https://opentdb.com/api.php?amount=10&type=multiple");if(!n.ok)throw new Error("HTTP request unsuccessful");return(await n.json()).results}catch(n){console.log(n.message)}};function p(n){for(let o=n.length-1;o>0;o--){const s=Math.floor(Math.random()*(o+1));[n[o],n[s]]=[n[s],n[o]]}return n}const h=()=>new Promise(n=>{let o=document.getElementsByClassName("answer-btn");Array.from(o).forEach((s,r)=>{s.addEventListener("click",e=>{n(s.textContent)},{once:!0})})}),b=(n,o,s)=>{let r=0,e=[],t;for(let i=0;i<s.length;i++)o[i]==s[i].correct_answer?r++:e.push(i+1);r<=3?t="Try hard :(":r<=6?t="Try hard :|":r>6&&(t="Excellent :)");let l=document.createElement("div");l.classList.add("mx-14","my-48","flex","justify-center","flex-col","font-Lexend","font-bold","sm:mx-20","md:mx-[6.25rem]","lg:mx-[8.75rem]","xl:mx-[11.25rem]","2xl:mx-[13.75rem]"),l.innerHTML=`<h1 class="text-4xl sm:text-5xl lg:text-6xl text-[#7c2d12]]">${n}, your Score is ${r}/10</h1>`,l.innerHTML+=`<p class="my-3 leading-10 text-sm sm:text-base md:text-lg xl:text-xl">${t}</p>`,r==s.length?l.innerHTML+=`<h2 class="my-3 text-xl lg:text-2xl text-[#7c2d12]">You haven't made any mistake :)</h1>`:l.innerHTML+=`<h2 class="my-3 text-xl lg:text-2xl text-[#7c2d12]">Mistakes? Oh just: Qno. ${e}</h1>`;let d=document.createElement("button");d.setAttribute("type","button"),d.setAttribute("id","score-btn"),d.classList.add("my-6","p-2","text-[#7c2d12]","rounded-xl","bg-[#fca17d]","w-1/2","font-semibold","shadow-md","hover:bg-[#ff8f62]","transition","duration-200","ease-in-out","sm:w-[240px]","md:w-[240px]","lg:w-[240px]","xl:w-[255px]","2xl:w-[270px]"),d.innerText="Try more",l.appendChild(d),document.body.append(l),d.addEventListener("click",()=>{l.remove(),m()})};
